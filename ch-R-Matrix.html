<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 R 행렬 | R 프로그래밍 (개정판)</title>
<meta name="author" content="Kilhwan Kim">
<meta name="description" content="벡터보다 조금 더 복잡한 데이터 구조가 행렬과 배열이다. 행렬과 배열은 벡터처럼 모든 요소가 동일한 데이터의 타입을 가져야 한다. 행렬과 배열은 다차원적 데이터 구조이다. 지금까지 배운 벡터는 일차원적인 데이터 구조였다. 벡터의 길이가 50이라면 벡터의 각 요소의 위치는 \(1, 2, \ldots, 50\)까지 하나의 숫자로 특정할 수 있다. 반면...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 4 R 행렬 | R 프로그래밍 (개정판)">
<meta property="og:type" content="book">
<meta property="og:description" content="벡터보다 조금 더 복잡한 데이터 구조가 행렬과 배열이다. 행렬과 배열은 벡터처럼 모든 요소가 동일한 데이터의 타입을 가져야 한다. 행렬과 배열은 다차원적 데이터 구조이다. 지금까지 배운 벡터는 일차원적인 데이터 구조였다. 벡터의 길이가 50이라면 벡터의 각 요소의 위치는 \(1, 2, \ldots, 50\)까지 하나의 숫자로 특정할 수 있다. 반면...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 R 행렬 | R 프로그래밍 (개정판)">
<meta name="twitter:description" content="벡터보다 조금 더 복잡한 데이터 구조가 행렬과 배열이다. 행렬과 배열은 벡터처럼 모든 요소가 동일한 데이터의 타입을 가져야 한다. 행렬과 배열은 다차원적 데이터 구조이다. 지금까지 배운 벡터는 일차원적인 데이터 구조였다. 벡터의 길이가 50이라면 벡터의 각 요소의 위치는 \(1, 2, \ldots, 50\)까지 하나의 숫자로 특정할 수 있다. 반면...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-176754989-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-176754989-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R 프로그래밍 (개정판)</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="ch-intro.html"><span class="header-section-number">1</span> R 설치 및 시작</a></li>
<li><a class="" href="ch-R-Data-Basic.html"><span class="header-section-number">2</span> R 데이터 기초</a></li>
<li><a class="" href="ch-R-Vectors.html"><span class="header-section-number">3</span> R 벡터</a></li>
<li><a class="active" href="ch-R-Matrix.html"><span class="header-section-number">4</span> R 행렬</a></li>
<li><a class="" href="ch-R-List.html"><span class="header-section-number">5</span> R 리스트</a></li>
<li><a class="" href="ch-R-Data-Frame.html"><span class="header-section-number">6</span> R 데이터 프레임</a></li>
<li><a class="" href="ch-dataTransformation.html"><span class="header-section-number">7</span> dplyr을 이용한 데이터 변환</a></li>
<li><a class="" href="ch-visualization.html"><span class="header-section-number">8</span> ggplot2를 이용한 데이터 시각화</a></li>
<li><a class="" href="ch-R-Advanced-Data-Mgmt.html"><span class="header-section-number">9</span> R 고급 데이터 변환</a></li>
<li><a class="" href="ch-R-Programming-Structure.html"><span class="header-section-number">10</span> R 프로그래밍 구조</a></li>
<li><a class="" href="ch-R-OOP.html"><span class="header-section-number">11</span> R 객체 지향 프로그래밍</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="ch-RandPython.html"><span class="header-section-number">A</span> R과 Python 연동하기</a></li>
<li><a class="" href="ch-RTips.html"><span class="header-section-number">B</span> R 관련 여러 주제들</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="ch-R-Matrix" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> R 행렬<a class="anchor" aria-label="anchor" href="#ch-R-Matrix"><i class="fas fa-link"></i></a>
</h1>
<p>벡터보다 조금 더 복잡한 데이터 구조가 행렬과 배열이다. 행렬과 배열은 벡터처럼 모든 요소가 동일한 데이터의 타입을 가져야 한다.</p>
<div id="행렬과-배열은-다차원적-데이터-구조이다." class="section level4 unnumbered">
<h4>행렬과 배열은 다차원적 데이터 구조이다.<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EA%B3%BC-%EB%B0%B0%EC%97%B4%EC%9D%80-%EB%8B%A4%EC%B0%A8%EC%9B%90%EC%A0%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B5%AC%EC%A1%B0%EC%9D%B4%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>지금까지 배운 벡터는 일차원적인 데이터 구조였다. 벡터의 길이가 50이라면 벡터의 각 요소의 위치는 <span class="math inline">\(1, 2, \ldots, 50\)</span>까지 하나의 숫자로 특정할 수 있다. 반면 행렬과 배열은 다차원적인 데이터 구조이다. 행렬은 2차원적 데이터 구조로 행과 열로 구성된다. 행렬의 각 요소의 위치는 어떤 행과 어떤 열에 포함되는지를 나타내는 두 개의 숫자로 특정할 수 있다. 배열은 행렬을 일반화한 것으로 다차원적인 데이터 구조이다. 예로 3차원 배열은 세 개의 숫자에 의해 데이터의 위치를 특정할 수 있다.</p>
</div>
<div id="행렬-만들기" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> 행렬 만들기<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0"><i class="fas fa-link"></i></a>
</h2>
<div id="행렬의-필요성" class="section level4 unnumbered">
<h4>행렬의 필요성<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%ED%95%84%EC%9A%94%EC%84%B1"><i class="fas fa-link"></i></a>
</h4>
<p>행렬의 예로 다음을 고려해 보자. 어떤 강의의 수강생을 성별, 학년의 두 가지 기준으로 분류한다고 해 보자. 그러면 표 <a href="ch-R-Matrix.html#tab:students-table">4.1</a> 같은 형식으로 데이터를 정리할 수 있을 것이다. 이와 같이 두 범주형 변수에 대해 관측도수를 요약한 표를 교차표(cross table) 또는 분할표라고 한다.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:students-table">Table 4.1: </span>어떤 과목의 수강생 분할표</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">1 학년</th>
<th align="left">2 학년</th>
<th align="left">3 학년</th>
<th align="left">4 학년</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">남</td>
<td align="left">0</td>
<td align="left">5</td>
<td align="left">7</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">여</td>
<td align="left">2</td>
<td align="left">4</td>
<td align="left">8</td>
<td align="left">2</td>
</tr>
</tbody>
</table></div>
<p>표 <a href="ch-R-Matrix.html#tab:students-table">4.1</a> 같은 데이터는 일차원적인 벡터 형태로 데이터를 저장하면 각 데이터 요소가 어떤 의미를 갖는지 파악하기가 쉽지 않다. 이러한 경우에는 2차원으로 구성된 행렬을 이용하는 것이 좋다.</p>
<p>행렬을 만드는 방법은 (1) 벡터를 행렬로 변환시키는 방법과 (2) 벡터를 결합하여 행렬을 만드는 방법이 있다. 이 절에서는 벡터를 행렬로 변환시키는 방법부터 살펴보자.</p>
</div>
<div id="matrix" class="section level4 unnumbered">
<h4>matrix()<a class="anchor" aria-label="anchor" href="#matrix"><i class="fas fa-link"></i></a>
</h4>
<p>matrix() 함수를 이용하면 데이터 벡터를 데이터 행렬로 변환시킬 수 있다. 다음의 예를 보면서 설명해 보자.</p>
<div class="sourceCode" id="cb415"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">n</span></span></code></pre></div>
<pre><code>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb417"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">n</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    3    5    7    9
#&gt; [2,]    2    4    6    8   10</code></pre>
<div class="sourceCode" id="cb419"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">n</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>위 예에서 n은 1부터 10까지 숫자를 가진 벡터이다. matrix() 함수의 첫 인수로 행렬로 바꿀 벡터를 주고, nrow 인수에 새로 만들 행렬의 행 수를 주면 행렬이 만들어짐을 볼 수 있다. 이렇게 만들어진 행렬 m은 크기가 <span class="math inline">\(2 \times 5\)</span> 인 행렬이 된다. 왜냐하면 전체 데이터의 수는 10개인데 2 개의 행이 지정되었으므로 모두 5개의 열이 있어야 모든 데이터를 수용할 수 있기 때문이다.</p>
</div>
<div id="matrix는-열을-순서대로-채워나간다." class="section level4 unnumbered">
<h4>matrix()는 열을 순서대로 채워나간다.<a class="anchor" aria-label="anchor" href="#matrix%EB%8A%94-%EC%97%B4%EC%9D%84-%EC%88%9C%EC%84%9C%EB%8C%80%EB%A1%9C-%EC%B1%84%EC%9B%8C%EB%82%98%EA%B0%84%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>벡터의 요소는 차례대로 1열의 1행을 채우고 2행을 채운다. 그리고 난 후 2열의 모든 행을 순서대로 채운다. 이러한 방식으로 차례차례 모든 열의 데이터를 채워 나감을 볼 수 있다. 만약 열이 아니라 행을 차례대로 채워나가면서 행렬을 만드고 싶으면 byrow=TRUE 인수를 사용하면 된다.</p>
<div class="sourceCode" id="cb420"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">n</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    2    3    4    5
#&gt; [2,]    6    7    8    9   10</code></pre>
</div>
<div id="행렬과-dim-속성" class="section level4 unnumbered">
<h4>행렬과 dim 속성<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EA%B3%BC-dim-%EC%86%8D%EC%84%B1"><i class="fas fa-link"></i></a>
</h4>
<p>원래의 벡터 n과 벡터로 만들어진 행렬 m의 속성을 보기 위해 attributes() 함수를 이용하자. 벡터 n에는 아무 속성도 부여되지 않았지만 행렬 m은 차원을 의미하는 dim 속성이 부여되었음을 볼 수 있다. dim 속성에는 길이가 2인 숫자 벡터가 부여되어 있는데, 첫번째 요소는 행의 개수, 두번째 요소는 열의 개수를 나타낸다.</p>
<div class="sourceCode" id="cb422"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<div class="sourceCode" id="cb424"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 2 5</code></pre>
<p>matrix()로 벡터를 행렬로 변환시킬 때 행의 개수 대신 열의 개수를 지정할 수도 있다. 이 경우 nrow 대신 ncol 인수를 사용하면 된다. 아래 예에서는 열의 개수를 2로 지정하였으므로 행렬 m은 크기가 <span class="math inline">\(5 \times 2\)</span>인 행렬이 되었음을 볼 수 있다. 이는 dim 속성에서도 확인할 수 있다.</p>
<div class="sourceCode" id="cb426"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">n</span>, nrow<span class="op">=</span><span class="fl">5</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    6
#&gt; [2,]    2    7
#&gt; [3,]    3    8
#&gt; [4,]    4    9
#&gt; [5,]    5   10</code></pre>
<div class="sourceCode" id="cb428"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 5 2</code></pre>
</div>
<div id="벡터-출력-vs.-행렬-출력" class="section level4 unnumbered">
<h4>벡터 출력 vs. 행렬 출력<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0-%EC%B6%9C%EB%A0%A5-vs.-%ED%96%89%EB%A0%AC-%EC%B6%9C%EB%A0%A5"><i class="fas fa-link"></i></a>
</h4>
<p>행렬 m을 출력한 내용을 보면 벡터와는 다름을 볼 수 있다. 먼저 벡터는 데이터를 R 콘솔의 모든 줄을 차례대로 채우면서 출력하고, 줄이 바뀔 때마다 각 줄의 첫 요소가 벡터의 몇 번째 데이터인지를 [i] 형태로 보여준다. 반면 행렬은 행과 열의 개수에 맞추어 출력시킬 뿐 아니라 [i,j] 형태로 데이터의 위치를 보여준다.</p>
</div>
<div id="matrix에서-벡터-재사용" class="section level4 unnumbered">
<h4>matrix()에서 벡터 재사용<a class="anchor" aria-label="anchor" href="#matrix%EC%97%90%EC%84%9C-%EB%B2%A1%ED%84%B0-%EC%9E%AC%EC%82%AC%EC%9A%A9"><i class="fas fa-link"></i></a>
</h4>
<p>matrix() 함수를 이용하여 행렬을 만들 때 행과 열의 크기를 모두 지정할 수 있다. 만약 벡터의 크기가 행렬의 요소 개수보다 적으면 벡터가 재사용된다. 반대로 벡터의 크기가 행렬의 요소 개수보다 크거나 배수가 되지 않으면 경고 메시지가 출력되고 행렬을 만드는 데는 앞에 있는 벡터 요소들만 사용된다.</p>
<div class="sourceCode" id="cb430"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb432"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    1    1
#&gt; [2,]    1    1    1
#&gt; [3,]    1    1    1</code></pre>
<div class="sourceCode" id="cb434"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    1    1
#&gt; [2,]    2    2    2
#&gt; [3,]    3    3    3</code></pre>
<div class="sourceCode" id="cb436"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">30</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; Warning in matrix(11:30, nrow = 3, ncol = 3): 데이터의 길이[20]가 행의
#&gt; 개수[3]의 배수가 되지 않습니다</code></pre>
<div class="sourceCode" id="cb438"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   14   17
#&gt; [2,]   12   15   18
#&gt; [3,]   13   16   19</code></pre>
</div>
</div>
<div id="벡터를-결합하여-행렬-만들기" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> 벡터를 결합하여 행렬 만들기<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EB%A5%BC-%EA%B2%B0%ED%95%A9%ED%95%98%EC%97%AC-%ED%96%89%EB%A0%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0"><i class="fas fa-link"></i></a>
</h2>
<div id="cbind와-rbind" class="section level4 unnumbered">
<h4>cbind()와 rbind()<a class="anchor" aria-label="anchor" href="#cbind%EC%99%80-rbind"><i class="fas fa-link"></i></a>
</h4>
<p>기존의 벡터나 행렬을 열이나 행으로 묶어서 새로운 행렬을 만들 수 있다. 아래 예는 벡터를 cbind()와 rbind() 함수를 이용하여 열 또는 행으로 묶은 경우이다.</p>
<div class="sourceCode" id="cb440"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1   10
#&gt; [2,]    2    9
#&gt; [3,]    3    8
#&gt; [4,]    4    7
#&gt; [5,]    5    6</code></pre>
<div class="sourceCode" id="cb442"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">11</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    2    3    4    5
#&gt; [2,]   10    9    8    7    6
#&gt; [3,]   11   12   13   14   15</code></pre>
</div>
<div id="벡터벡터-벡터행렬-행렬행렬-결합" class="section level4 unnumbered">
<h4>벡터+벡터, 벡터+행렬, 행렬+행렬 결합<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EB%B2%A1%ED%84%B0-%EB%B2%A1%ED%84%B0%ED%96%89%EB%A0%AC-%ED%96%89%EB%A0%AC%ED%96%89%EB%A0%AC-%EA%B2%B0%ED%95%A9"><i class="fas fa-link"></i></a>
</h4>
<p>벡터들만 연결하여 행렬을 만드는 것이 아니라, 행렬과 벡터 또는 행렬과 행렬을 행 또는 열로 묶어 새로운 행렬을 만들 수 있다.</p>
<div class="sourceCode" id="cb444"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    4    7   10
#&gt; [2,]    2    5    8   11
#&gt; [3,]    3    6    9   12</code></pre>
<div class="sourceCode" id="cb446"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">12</span>, <span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   11   12
#&gt; [2,]    1    4    7
#&gt; [3,]    2    5    8
#&gt; [4,]    3    6    9</code></pre>
<div class="sourceCode" id="cb448"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5] [,6]
#&gt; [1,]    1    4    7    1    4    7
#&gt; [2,]    2    5    8    2    5    8
#&gt; [3,]    3    6    9    3    6    9</code></pre>
<div class="sourceCode" id="cb450"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">t</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; [4,]   10   11   12</code></pre>
<div class="sourceCode" id="cb452"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">t</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; [4,]    1    4    7
#&gt; [5,]    2    5    8
#&gt; [6,]    3    6    9
#&gt; [7,]   10   11   12</code></pre>
<div class="sourceCode" id="cb454"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">t</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; Error in cbind(A, t): 각각의 행렬이 가진 행의 개수는 반드시 서로 일치해야 합니다 (인자 2를 참고하세요)</code></pre>
</div>
<div id="행렬행렬-연결은-행-또는-열의-수가-같아야-한다." class="section level4 unnumbered">
<h4>행렬+행렬 연결은 행 또는 열의 수가 같아야 한다.<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%ED%96%89%EB%A0%AC-%EC%97%B0%EA%B2%B0%EC%9D%80-%ED%96%89-%EB%98%90%EB%8A%94-%EC%97%B4%EC%9D%98-%EC%88%98%EA%B0%80-%EA%B0%99%EC%95%84%EC%95%BC-%ED%95%9C%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>마지막 예에서 볼 수 있듯이 행렬을 cbind 할 때는 행의 수가 같아야 하며, rbind를 할 때에는 열의 수가 일치하여야 한다. 하지만 벡터의 경우에는 가장 긴 길이에 맞추어 요소가 재사용된다.</p>
<div class="sourceCode" id="cb456"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    7
#&gt; [2,]    2    8
#&gt; [3,]    3    9
#&gt; [4,]    4    7
#&gt; [5,]    5    8
#&gt; [6,]    6    9</code></pre>
<div class="sourceCode" id="cb458"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">11</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    7   10
#&gt; [2,]    2    8   11
#&gt; [3,]    3    9   10
#&gt; [4,]    4    7   11
#&gt; [5,]    5    8   10
#&gt; [6,]    6    9   11</code></pre>
<div class="sourceCode" id="cb460"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    1    1    1    1
#&gt; [2,]    1    2    3    4    5</code></pre>
</div>
</div>
<div id="행렬의-필터링" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> 행렬의 필터링<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%ED%95%84%ED%84%B0%EB%A7%81"><i class="fas fa-link"></i></a>
</h2>
<div id="행과-열-인덱스-벡터" class="section level4 unnumbered">
<h4>행과 열 인덱스 벡터<a class="anchor" aria-label="anchor" href="#%ED%96%89%EA%B3%BC-%EC%97%B4-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0"><i class="fas fa-link"></i></a>
</h4>
<p>벡터와 마찬가지로 행렬도 인덱스 벡터에 의해 필터링을 할 수 있다. 벡터는 오직 한 개의 인덱스 벡터를 가지는데, 행렬은 2차원인 만큼 각 차원을 지정할 수 있도록 2개의 인덱스 벡터를 가진다. 첫번째 인덱스 벡터는 추출할 행의 위치를, 두번째 인덱스 벡터는 추출할 열의 위치를 지정하게 된다. 벡터와 마찬가지로 행렬도 자연수, 음의 정수, 논리, 이름 인덱스 벡터를 가질 수 있다.</p>
</div>
<div id="자연수-인덱스-벡터-1" class="section level4 unnumbered">
<h4>자연수 인덱스 벡터<a class="anchor" aria-label="anchor" href="#%EC%9E%90%EC%97%B0%EC%88%98-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0-1"><i class="fas fa-link"></i></a>
</h4>
<p>아래는 1부터 25까지의 숫자를 크기 <span class="math inline">\(5 \times 5\)</span>인 행렬로 만든 후 인덱스 벡터로 각 데이터 요소를 특정하는 예를 보여주고 있다.</p>
<div class="sourceCode" id="cb462"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span>, nrow<span class="op">=</span><span class="fl">5</span>, ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">z</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    4    9   14   19   24
#&gt; [5,]    5   10   15   20   25</code></pre>
<div class="sourceCode" id="cb464"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 1</code></pre>
<div class="sourceCode" id="cb466"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 25</code></pre>
<div class="sourceCode" id="cb468"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb470"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1]  2  7 12</code></pre>
<div class="sourceCode" id="cb472"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    8   18
#&gt; [2,]   10   20</code></pre>
<p>다음 예처럼 인덱스 벡터 위치가 비어 있으면 그 인덱스는 전체 범위를 취한다. 인덱스 벡터가 모두 비어 있으면 행렬 그 자체가 된다. 즉 z[ , ]은 z와 같다.</p>
<div class="sourceCode" id="cb474"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1]  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb476"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">3</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1]  3  8 13 18 23</code></pre>
<div class="sourceCode" id="cb478"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]   11   21
#&gt; [2,]   12   22
#&gt; [3,]   13   23
#&gt; [4,]   14   24
#&gt; [5,]   15   25</code></pre>
<div class="sourceCode" id="cb480"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span> , <span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    4    9   14   19   24
#&gt; [5,]    5   10   15   20   25</code></pre>
</div>
<div id="음의-정수-인덱스-벡터-1" class="section level4 unnumbered">
<h4>음의 정수 인덱스 벡터<a class="anchor" aria-label="anchor" href="#%EC%9D%8C%EC%9D%98-%EC%A0%95%EC%88%98-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0-1"><i class="fas fa-link"></i></a>
</h4>
<p>벡터와 마찬가지로 음의 정수를 이용하면 해당 행과 열을 제외한 행렬을 구할 수 있다.</p>
<div class="sourceCode" id="cb482"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span>,<span class="op">-</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1   11   16   21
#&gt; [2,]    2   12   17   22
#&gt; [3,]    3   13   18   23
#&gt; [4,]    4   14   19   24
#&gt; [5,]    5   15   20   25</code></pre>
<div class="sourceCode" id="cb484"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="op">-</span><span class="fl">3</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    4    9   14   19   24
#&gt; [4,]    5   10   15   20   25</code></pre>
<div class="sourceCode" id="cb486"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1   11   21
#&gt; [2,]    2   12   22
#&gt; [3,]    3   13   23
#&gt; [4,]    4   14   24
#&gt; [5,]    5   15   25</code></pre>
<div class="sourceCode" id="cb488"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="op">-</span><span class="fl">3</span>,<span class="op">-</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1   11   16   21
#&gt; [2,]    2   12   17   22
#&gt; [3,]    4   14   19   24
#&gt; [4,]    5   15   20   25</code></pre>
</div>
<div id="인덱스-벡터로-행과-열-재배치-하기" class="section level4 unnumbered">
<h4>인덱스 벡터로 행과 열 재배치 하기<a class="anchor" aria-label="anchor" href="#%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0%EB%A1%9C-%ED%96%89%EA%B3%BC-%EC%97%B4-%EC%9E%AC%EB%B0%B0%EC%B9%98-%ED%95%98%EA%B8%B0"><i class="fas fa-link"></i></a>
</h4>
<p>행렬의 인덱스 벡터를 이용하여 행 단위 재배치나 열 단위 재배치가 가능하다.</p>
<div class="sourceCode" id="cb490"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">1</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    5   10   15   20   25
#&gt; [2,]    4    9   14   19   24
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    2    7   12   17   22
#&gt; [5,]    1    6   11   16   21</code></pre>
<div class="sourceCode" id="cb492"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]   11   16   21    1    6
#&gt; [2,]   12   17   22    2    7
#&gt; [3,]   13   18   23    3    8
#&gt; [4,]   14   19   24    4    9
#&gt; [5,]   15   20   25    5   10</code></pre>
<p>아울러 인덱스 벡터를 사용하여 행과 열에 대한 정렬도 가능하다. 다음은 행렬의 첫번째 열을 기준으로 행을 큰 순에서 작은 순으로 정렬한 예이다.</p>
<div class="sourceCode" id="cb494"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">4</span>, ncol<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">a</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    5    8    2   12
#&gt; [2,]   15    1    3    4
#&gt; [3,]    6   11   10   13
#&gt; [4,]   14    9    7   16</code></pre>
<div class="sourceCode" id="cb496"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1]  5 15  6 14</code></pre>
<div class="sourceCode" id="cb498"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 1 3 4 2</code></pre>
<div class="sourceCode" id="cb500"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">a</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    5    8    2   12
#&gt; [2,]    6   11   10   13
#&gt; [3,]   14    9    7   16
#&gt; [4,]   15    1    3    4</code></pre>
</div>
<div id="논리-인덱스-벡터-1" class="section level4 unnumbered">
<h4>논리 인덱스 벡터<a class="anchor" aria-label="anchor" href="#%EB%85%BC%EB%A6%AC-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0-1"><i class="fas fa-link"></i></a>
</h4>
<p>벡터와 마찬가지로 논리 인덱스 벡터를 사용할 수 있다. 다음의 예에서 보듯이 행과 열의 인덱스 벡터에서 TRUE가 되는 행과 열만 선택된다.</p>
<div class="sourceCode" id="cb502"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">height</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">180</span>, <span class="fl">172</span>, <span class="fl">167</span>, <span class="fl">175</span>, <span class="fl">182</span><span class="op">)</span></span>
<span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">72</span>, <span class="fl">78</span>, <span class="fl">58</span>, <span class="fl">64</span>, <span class="fl">68</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">height</span>, <span class="va">weight</span>, <span class="va">year</span><span class="op">)</span></span>
<span><span class="va">A</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      weight year
#&gt; [1,]     72    1
#&gt; [2,]     78    3
#&gt; [3,]     58    2
#&gt; [4,]     64    4
#&gt; [5,]     68    2</code></pre>
<div class="sourceCode" id="cb504"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      height year
#&gt; [1,]    180    1
#&gt; [2,]    172    3
#&gt; [3,]    167    2
#&gt; [4,]    175    4
#&gt; [5,]    182    2</code></pre>
<div class="sourceCode" id="cb506"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span> <span class="va">A</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="fl">180</span>,  <span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; height weight   year 
#&gt;    182     68      2</code></pre>
<div class="sourceCode" id="cb508"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span> <span class="va">A</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;</span> <span class="fl">70</span>,  <span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;      height weight year
#&gt; [1,]    167     58    2
#&gt; [2,]    175     64    4
#&gt; [3,]    182     68    2</code></pre>
</div>
<div id="행과-열-이름-부여하기-rownames와-colnames" class="section level4 unnumbered">
<h4>행과 열 이름 부여하기: rownames()와 colnames()<a class="anchor" aria-label="anchor" href="#%ED%96%89%EA%B3%BC-%EC%97%B4-%EC%9D%B4%EB%A6%84-%EB%B6%80%EC%97%AC%ED%95%98%EA%B8%B0-rownames%EC%99%80-colnames"><i class="fas fa-link"></i></a>
</h4>
<p>벡터와 마찬가지로 행과 열의 이름을 인덱스로 하여 행렬의 부분을 참조할 수 있다. 행렬의 행과 열 이름의 확인과 할당은 rownames()와 colnames() 함수를 이용하여 이루어진다. rbind()나 cbind()에 의해 벡터 변수가 결합되면 변수의 이름이 자동적으로 행이나 열의 이름으로 부여된다.</p>
<div class="sourceCode" id="cb510"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] "height" "weight" "year"</code></pre>
<div class="sourceCode" id="cb512"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<div class="sourceCode" id="cb514"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"student"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;          height weight year
#&gt; student1    180     72    1
#&gt; student2    172     78    3
#&gt; student3    167     58    2
#&gt; student4    175     64    4
#&gt; student5    182     68    2</code></pre>
<div class="sourceCode" id="cb516"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span>, <span class="st">"year"</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; student1 student2 student3 student4 student5 
#&gt;        1        3        2        4        2</code></pre>
<div class="sourceCode" id="cb518"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span><span class="st">"student1"</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; height weight   year 
#&gt;    180     72      1</code></pre>
<div class="sourceCode" id="cb520"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span><span class="st">"student2"</span>, <span class="st">"weight"</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 78</code></pre>
<div class="sourceCode" id="cb522"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span><span class="op">[</span><span class="st">"student2"</span>, <span class="fl">2</span><span class="op">]</span>  <span class="co"># 행과 열의 인덱스 벡터의 종류가 달라도 된다.</span></span></code></pre></div>
<pre><code>#&gt; [1] 78</code></pre>
</div>
<div id="벡터로서-필터링-하기" class="section level4 unnumbered">
<h4>벡터로서 필터링 하기<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EB%A1%9C%EC%84%9C-%ED%95%84%ED%84%B0%EB%A7%81-%ED%95%98%EA%B8%B0"><i class="fas fa-link"></i></a>
</h4>
<p>만약 행렬 이름 뒤에 인덱스 벡터가 하나밖에 주어지지 않으면, 행렬은 벡터로서 처리되어 필터링되고 행렬의 차원 정보는 무시된다</p>
<div class="sourceCode" id="cb524"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    4    9   14   19   24
#&gt; [5,]    5   10   15   20   25</code></pre>
<div class="sourceCode" id="cb526"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 10</code></pre>
<div class="sourceCode" id="cb528"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">z</span><span class="op">[</span><span class="va">z</span><span class="op">&gt;</span><span class="fl">15</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;  [1] 16 17 18 19 20 21 22 23 24 25</code></pre>
</div>
</div>
<div id="행렬의-연산" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> 행렬의 연산<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%97%B0%EC%82%B0"><i class="fas fa-link"></i></a>
</h2>
<div id="행렬의-요소-단위-연산" class="section level4 unnumbered">
<h4>행렬의 요소 단위 연산<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%9A%94%EC%86%8C-%EB%8B%A8%EC%9C%84-%EC%97%B0%EC%82%B0"><i class="fas fa-link"></i></a>
</h4>
<p>행과 열의 수가 같은 행렬은 산술 연산을 할 수 있다. 이 경우 벡터와 마찬가지로 산술 연산은 같은 위치의 요소 단위(element-by-element)로 이루어진다.</p>
<div class="sourceCode" id="cb530"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb532"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="fl">10</span>, length<span class="op">=</span><span class="fl">9</span>, by<span class="op">=</span><span class="fl">10</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   40   70
#&gt; [2,]   20   50   80
#&gt; [3,]   30   60   90</code></pre>
<div class="sourceCode" id="cb534"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">+</span> <span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   44   77
#&gt; [2,]   22   55   88
#&gt; [3,]   33   66   99</code></pre>
<div class="sourceCode" id="cb536"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">-</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    9   36   63
#&gt; [2,]   18   45   72
#&gt; [3,]   27   54   81</code></pre>
<div class="sourceCode" id="cb538"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">*</span> <span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10  160  490
#&gt; [2,]   40  250  640
#&gt; [3,]   90  360  810</code></pre>
<div class="sourceCode" id="cb540"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">/</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   10   10
#&gt; [2,]   10   10   10
#&gt; [3,]   10   10   10</code></pre>
</div>
<div id="행렬은-재사용되지-않는다" class="section level4 unnumbered">
<h4>행렬은 재사용되지 않는다<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%80-%EC%9E%AC%EC%82%AC%EC%9A%A9%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4"><i class="fas fa-link"></i></a>
</h4>
<p>행과 열의 개수가 다른 행렬의 산술연산은 오류를 발생시킨다. 그 이유는 행렬은 벡터와 달리 요소의 재사용(recycling)이 일어나지 않기 때문이다. 그렇기 때문에 행렬과 행렬의 연산에서는 행과 열이 같은 크기이어야 한다.</p>
<div class="sourceCode" id="cb542"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">C</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">C</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    4    7   10
#&gt; [2,]    2    5    8   11
#&gt; [3,]    3    6    9   12</code></pre>
<div class="sourceCode" id="cb544"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">+</span> <span class="va">C</span></span></code></pre></div>
<pre><code>#&gt; Error in B + C: 배열의 크기가 올바르지 않습니다</code></pre>
<div class="sourceCode" id="cb546"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">C</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">C</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; [4,]    1    2    3</code></pre>
<div class="sourceCode" id="cb548"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">*</span> <span class="va">C</span></span></code></pre></div>
<pre><code>#&gt; Error in B * C: 배열의 크기가 올바르지 않습니다</code></pre>
</div>
<div id="벡터와-행렬의-연산-벡터는-재사용된다" class="section level4 unnumbered">
<h4>벡터와 행렬의 연산: 벡터는 재사용된다<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EC%99%80-%ED%96%89%EB%A0%AC%EC%9D%98-%EC%97%B0%EC%82%B0-%EB%B2%A1%ED%84%B0%EB%8A%94-%EC%9E%AC%EC%82%AC%EC%9A%A9%EB%90%9C%EB%8B%A4"><i class="fas fa-link"></i></a>
</h4>
<p>벡터와 행렬의 산술연산도 같은 위치의 요소 단위로 이루어진다. 벡터 a와 행렬 A의 연산시 벡터 a는 먼저 행렬 A와 같은 차원의 행렬로 변환되어 연산이 수행된다. 만약 벡터의 길이가 행렬의 길이보다 작으면 벡터의 데이터는 행렬의 길이만큼 순환 재사용된다. 연산을 위해 벡터가 행렬로 변환될 때도 matrix()로 행렬이 만들어질 때와 마찬가지로 열 별로 데이터를 채워나간다.</p>
<div class="sourceCode" id="cb550"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">9</span><span class="op">:</span><span class="fl">1</span></span>
<span><span class="va">a</span> <span class="op">+</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   10   10
#&gt; [2,]   10   10   10
#&gt; [3,]   10   10   10</code></pre>
<div class="sourceCode" id="cb552"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">+</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]   12   15   18
#&gt; [3,]  103  106  109</code></pre>
<div class="sourceCode" id="cb554"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">*</span> <span class="va">a</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    0    0    0
#&gt; [2,]   20   50   80
#&gt; [3,]  300  600  900</code></pre>
<p>숫자와 행렬이 연산은 길이가 1인 벡터와 행렬이 연산되는 것이므로 모든 행렬의 요소와 숫자간에 연산이 이루어진다. 다음 예에서 숫자 10이 A의 모든 요소에 대응하여 계산되었음을 볼 수 있다.</p>
<div class="sourceCode" id="cb556"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">10</span> <span class="op">*</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   40   70
#&gt; [2,]   20   50   80
#&gt; [3,]   30   60   90</code></pre>
<p>그러나 벡터의 길이가 배열의 길이보다 길면 오류가 발생한다.</p>
<div class="sourceCode" id="cb558"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="va">b</span> <span class="op">*</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt; Warning in b * A: 두 객체의 길이가 서로 배수관계에 있지 않습니다</code></pre>
<pre><code>#&gt; Error in eval(expr, envir, enclos): dims [product 9]가 객체 [10]의 길이와 일치하지 않습니다</code></pre>
<p>현재까지는 행렬의 연산 중 요소 단위의 연산만을 설명하였다. R은 이 외에도 행렬의 외적, 행렬의 곱, 역행렬 구하기 등 다양한 행렬 연산을 지원한다. 관심 있는 독자는 <a href="ch-R-Matrix.html#sec-RMatrix-operation-advanced">4.7</a> 절을 참조한다.</p>
</div>
</div>
<div id="행렬과-함수" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> 행렬과 함수<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EA%B3%BC-%ED%95%A8%EC%88%98"><i class="fas fa-link"></i></a>
</h2>
<div id="행렬을-인수로-하는-함수들" class="section level3" number="4.5.1">
<h3>
<span class="header-section-number">4.5.1</span> 행렬을 인수로 하는 함수들<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%84-%EC%9D%B8%EC%88%98%EB%A1%9C-%ED%95%98%EB%8A%94-%ED%95%A8%EC%88%98%EB%93%A4"><i class="fas fa-link"></i></a>
</h3>
<p>이 절에서는 행렬을 인수로 하는 R 함수를 살펴본다.</p>
<div id="t" class="section level4 unnumbered">
<h4>t()<a class="anchor" aria-label="anchor" href="#t"><i class="fas fa-link"></i></a>
</h4>
<p>어떤 행렬에서 행과 열이 바뀐 행렬을 전치행렬(transposed matrix)이라 한다. t() 함수를 이용하면 전치행렬을 구할 수 있다.</p>
<div class="sourceCode" id="cb561"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    3
#&gt; [2,]    2    4</code></pre>
<div class="sourceCode" id="cb563"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    2
#&gt; [2,]    3    4</code></pre>
</div>
<div id="행렬의-차원-정보를-주는-함수-nrow-ncol-dim" class="section level4 unnumbered">
<h4>행렬의 차원 정보를 주는 함수: nrow(), ncol(), dim()<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%B0%A8%EC%9B%90-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%A3%BC%EB%8A%94-%ED%95%A8%EC%88%98-nrow-ncol-dim"><i class="fas fa-link"></i></a>
</h4>
<p>행렬의 행 수와 열 수를 구할 때는 nrow(), ncol() 함수를 이용한다. 행과 열의 차원 전체를 얻고자 하면 dim() 함수를 이용한다.</p>
<div class="sourceCode" id="cb565"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 2</code></pre>
<div class="sourceCode" id="cb567"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 2</code></pre>
<div class="sourceCode" id="cb569"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 2 2</code></pre>
<div class="sourceCode" id="cb571"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 2 2</code></pre>
</div>
<div id="행과-열에-이름-함수-rownames-colnames" class="section level4 unnumbered">
<h4>행과 열에 이름 함수: rownames(), colnames()<a class="anchor" aria-label="anchor" href="#%ED%96%89%EA%B3%BC-%EC%97%B4%EC%97%90-%EC%9D%B4%EB%A6%84-%ED%95%A8%EC%88%98-rownames-colnames"><i class="fas fa-link"></i></a>
</h4>
<p>행과 열 이름을 확인하거나, 새로 할당할 때는 rownames()와 colnames() 함수를 이용한다.</p>
<div class="sourceCode" id="cb573"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<div class="sourceCode" id="cb575"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<div class="sourceCode" id="cb577"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"upper"</span>, <span class="st">"lower"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"right"</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;       left right
#&gt; upper    1     3
#&gt; lower    2     4</code></pre>
<div class="sourceCode" id="cb579"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 2 2
#&gt; 
#&gt; $dimnames
#&gt; $dimnames[[1]]
#&gt; [1] "upper" "lower"
#&gt; 
#&gt; $dimnames[[2]]
#&gt; [1] "left"  "right"</code></pre>
</div>
<div id="벡터로-변환-as.vector-c" class="section level4 unnumbered">
<h4>벡터로 변환: as.vector(), c()<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EB%A1%9C-%EB%B3%80%ED%99%98-as.vector-c"><i class="fas fa-link"></i></a>
</h4>
<p>as.vector()나 c() 함수를 이용하면 행렬을 벡터로 변경할 수 있다. 배열을 벡터로 바꾸는 공식적인 방법은 as.vector() 함수를 이용하는 것이다. 다음 예를 살펴보자. (R이 대소문자를 구분하는 것에 주의.)</p>
<div class="sourceCode" id="cb581"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">X</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    2    3    4    5
#&gt; [2,]    5    4    3    2    1</code></pre>
<div class="sourceCode" id="cb583"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;  [1] 1 5 2 4 3 3 4 2 5 1</code></pre>
<div class="sourceCode" id="cb585"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<p>하지만 c() 함수도 이와 유사한 효과를 나타낸다. cbind()와 rbind()는 행렬과 벡터의 차원 속성을 유지하며 데이터를 연결한다. 그러나 c() 함수는 dim과 dimnames 속성을 지운다.</p>
<div class="sourceCode" id="cb587"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span>
<span><span class="va">y</span></span></code></pre></div>
<pre><code>#&gt;  [1] 1 5 2 4 3 3 4 2 5 1</code></pre>
<div class="sourceCode" id="cb589"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
</div>
<div id="행렬에-벡터-함수-적용하기" class="section level4 unnumbered">
<h4>행렬에 벡터 함수 적용하기<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%97%90-%EB%B2%A1%ED%84%B0-%ED%95%A8%EC%88%98-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0"><i class="fas fa-link"></i></a>
</h4>
<p>사실 행렬은 벡터에 dim 속성이 부여된 것뿐이므로, 벡터에 적용되는 함수를 행렬에 적용하면 행렬을 벡터로 간주하여 잘 동작한다.</p>
<div class="sourceCode" id="cb591"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 30</code></pre>
<div class="sourceCode" id="cb593"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 3</code></pre>
<div class="sourceCode" id="cb595"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 1.490712</code></pre>
<div class="sourceCode" id="cb597"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 1 5</code></pre>
</div>
</div>
<div id="행렬의-행별-또는-열별로-함수를-적용하는-방법" class="section level3" number="4.5.2">
<h3>
<span class="header-section-number">4.5.2</span> 행렬의 행별 또는 열별로 함수를 적용하는 방법<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%ED%96%89%EB%B3%84-%EB%98%90%EB%8A%94-%EC%97%B4%EB%B3%84%EB%A1%9C-%ED%95%A8%EC%88%98%EB%A5%BC-%EC%A0%81%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95"><i class="fas fa-link"></i></a>
</h3>
<p>apply() 함수를 이용하면 행렬의 행별 또는 열별로 함수를 적용할 수 있다.</p>
<div id="apply" class="section level4 unnumbered">
<h4>apply()<a class="anchor" aria-label="anchor" href="#apply"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb599"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">MARGIN</span>, <span class="va">FUN</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
<p>apply() 함수의 X 인수에는 행별 또는 열별로 함수를 적용할 행렬을, MARGIN 인수에는 함수를 적용할 방향을 지정한다. MARGIN 인수가 1이면 행별로, 2이면 열별로 함수가 적용된다. apply() 함수의 FUN 인수에는 행이나 열별로 적용할 함수를 전달한다.</p>
<p>다음은 행렬 A에 대해 행별 합과 열별 합을 구한 예이다. 행렬 전체를 sum()한 결과와의 차이를 비교해 보라.</p>
<div class="sourceCode" id="cb600"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">a</span></span></code></pre></div>
<pre><code>#&gt;  [1] 15 19 14  3 10 18 11  5 23  6  9 21 24 20 22 25 17  1 12 13  2 16  7  8  4</code></pre>
<div class="sourceCode" id="cb602"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">a</span>, nrow<span class="op">=</span><span class="fl">5</span>, ncol<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]   15   18    9   25    2
#&gt; [2,]   19   11   21   17   16
#&gt; [3,]   14    5   24    1    7
#&gt; [4,]    3   23   20   12    8
#&gt; [5,]   10    6   22   13    4</code></pre>
<div class="sourceCode" id="cb604"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">1</span>, <span class="va">sum</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 69 84 51 66 55</code></pre>
<div class="sourceCode" id="cb606"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">2</span>, <span class="va">sum</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 61 63 96 68 37</code></pre>
<div class="sourceCode" id="cb608"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 325</code></pre>
<p>apply() 함수가 적용되는 행렬의 행과 열에 이름이 있으면 apply()의 결과 벡터에도 해당 이름이 적용되어 출력된다.</p>
<div class="sourceCode" id="cb610"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;     A  B  C  D  E
#&gt; X1 15 18  9 25  2
#&gt; X2 19 11 21 17 16
#&gt; X3 14  5 24  1  7
#&gt; X4  3 23 20 12  8
#&gt; X5 10  6 22 13  4</code></pre>
<div class="sourceCode" id="cb612"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">1</span>, <span class="va">min</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; X1 X2 X3 X4 X5 
#&gt;  2 11  1  3  4</code></pre>
<div class="sourceCode" id="cb614"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">2</span>, <span class="va">max</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;  A  B  C  D  E 
#&gt; 19 23 24 25 16</code></pre>
</div>
<div id="함수의-결과가-벡터이면-열로서-결합하여-출력한다." class="section level4 unnumbered">
<h4>함수의 결과가 벡터이면 열로서 결합하여 출력한다.<a class="anchor" aria-label="anchor" href="#%ED%95%A8%EC%88%98%EC%9D%98-%EA%B2%B0%EA%B3%BC%EA%B0%80-%EB%B2%A1%ED%84%B0%EC%9D%B4%EB%A9%B4-%EC%97%B4%EB%A1%9C%EC%84%9C-%EA%B2%B0%ED%95%A9%ED%95%98%EC%97%AC-%EC%B6%9C%EB%A0%A5%ED%95%9C%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>지금까지 apply()의 FUN 인수에 부여된 함수는 sum()처럼 오직 하나의 값만을 반환하는 함수였다. 그렇기 때문에 apply() 함수로 행 또는 열별 합을 구하면 행 또는 열의 수만큼의 길이를 가지는 벡터로서 결과값이 반환되었다. 그러면 range()나 summary()처럼 길이가 2 이상인 벡터로서 결과를 주는 함수를 FUN 인수에 적용하면 어떻게 될까? 이 경우에는 함수가 적용되어 나온 결과 벡터를 cbind()처럼 열로서 결합하여 최종 결과를 출력한다.</p>
<div class="sourceCode" id="cb616"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">2</span>, <span class="va">range</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;       A  B  C  D  E
#&gt; [1,]  3  5  9  1  2
#&gt; [2,] 19 23 24 25 16</code></pre>
<div class="sourceCode" id="cb618"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">1</span>, <span class="va">range</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      X1 X2 X3 X4 X5
#&gt; [1,]  2 11  1  3  4
#&gt; [2,] 25 21 24 23 22</code></pre>
<div class="sourceCode" id="cb620"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">1</span>, <span class="va">summary</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;           X1   X2   X3   X4 X5
#&gt; Min.     2.0 11.0  1.0  3.0  4
#&gt; 1st Qu.  9.0 16.0  5.0  8.0  6
#&gt; Median  15.0 17.0  7.0 12.0 10
#&gt; Mean    13.8 16.8 10.2 13.2 11
#&gt; 3rd Qu. 18.0 19.0 14.0 20.0 13
#&gt; Max.    25.0 21.0 24.0 23.0 22</code></pre>
<p>range() 함수는 최소값과 최대값이라는 두 요소로 이루어진 벡터를 결과로서 반환하는 함수이다. 따라서 첫번째 예는 A의 열별 최소값과 최대값을 열로 하는 행렬을, 두번째 예는 A의 행별 최대값과 최소값을 열로 하는 행렬을 반환하였다. 마지막 예에서는, summary() 함수가 최소값, 사분위수, 최대값, 평균 등의 통계치를 벡터로 반환하기 때문에, apply() 결과는 A의 행별 통계치를 열로 하는 행렬로서 반환되었다.</p>
</div>
</div>
</div>
<div id="sec-RMatrix-array" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> 배열 *<a class="anchor" aria-label="anchor" href="#sec-RMatrix-array"><i class="fas fa-link"></i></a>
</h2>
<div id="배열의-생성" class="section level3" number="4.6.1">
<h3>
<span class="header-section-number">4.6.1</span> 배열의 생성<a class="anchor" aria-label="anchor" href="#%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%83%9D%EC%84%B1"><i class="fas fa-link"></i></a>
</h3>
<p>벡터는 일차원 데이터 구조로 하나의 인덱스 벡터로 요소의 위치를 지정한다.</p>
<div class="sourceCode" id="cb622"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>; <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;  [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb624"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 11</code></pre>
<div class="sourceCode" id="cb626"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 16 17</code></pre>
<p>행렬은 2차원의 데이터 구조로 두 개의 인덱스 벡터로 요소의 위치를 지정한다. 첫번째 인덱스 벡터가 행의 위치를 지정하고, 두번째 인덱스 벡터가 열 위치를 지정한다.</p>
<div class="sourceCode" id="cb628"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">19</span>, nrow<span class="op">=</span><span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>; <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   14   17
#&gt; [2,]   12   15   18
#&gt; [3,]   13   16   19</code></pre>
<div class="sourceCode" id="cb630"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 14</code></pre>
<div class="sourceCode" id="cb632"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 12 13</code></pre>
<p>배열은 행렬을 일반화한 것으로 2차원 이상의 차원을 가지는 데이터 구조이다.
사실 행렬은 2차인 구조를 가지는 배열의 특수한 예이다.
배열은 벡터, 행렬과 마찬가지로 동일한 형식의 데이터만 그 요소로 가질 수 있으므로, 따라서 숫자 배열, 문자 배열, 논리값 배열 등이 만들어질 수 있다.</p>
<div id="array" class="section level4 unnumbered">
<h4>array()<a class="anchor" aria-label="anchor" href="#array"><i class="fas fa-link"></i></a>
</h4>
<p>배열은 array() 함수를 이용하여 행렬과 비슷한 방법으로 만들수 있다.</p>
<div class="sourceCode" id="cb634"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">nrow</span>, <span class="va">ncol</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">dim</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="dim-인수" class="section level4 unnumbered">
<h4>dim 인수<a class="anchor" aria-label="anchor" href="#dim-%EC%9D%B8%EC%88%98"><i class="fas fa-link"></i></a>
</h4>
<p>matrix() 함수와 마찬가지로 데이터 요소를 가지고 있는 벡터가 array()의 첫번째 인수로 제공된다. matrix() 함수와 다른 점은 차원의 크기가 dim 인수에 벡터 형식으로 제공된다는 것이다.
행렬은 2차원으로 차원이 정해져 있으므로 첫번째 차원인 행의 크기는 nrow 인수에 두번째 차원인 열의 크기는 ncol 인수에 숫자 하나로 제공된다.
그러나 배열은 2차원 이상의 다양한 차원을 가질 수 있으므로, 원하는 차원의 수만큼 각 차원의 크기를 결정해야 한다.
따라서 차원의 개수만큼의 요소를 가지는 벡터가 dim 인수에 제공된다. 따라서 어떤 배열의 차원 벡터의 길이가 k이면 그 배열은 k차원 배열이라고 한다. 다음은 3차원 배열을 생성한 예이다.</p>
<div class="sourceCode" id="cb635"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">28</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   14   17
#&gt; [2,]   12   15   18
#&gt; [3,]   13   16   19
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   20   23   26
#&gt; [2,]   21   24   27
#&gt; [3,]   22   25   28</code></pre>
</div>
<div id="차원-배열의-출력-방식" class="section level4 unnumbered">
<h4>3차원 배열의 출력 방식<a class="anchor" aria-label="anchor" href="#%EC%B0%A8%EC%9B%90-%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%B6%9C%EB%A0%A5-%EB%B0%A9%EC%8B%9D"><i class="fas fa-link"></i></a>
</h4>
<p>행렬과 마찬가지로 3차원 배열의 첫번째 차원은 행(rows)을, 두번째 차원은 열(columns)을, 세번째 차원은 층(layers)을 나타낸다. 3차원 큐브를 생각하면 이해하기 쉽다. 앞의 예에서는 행은 3개, 열도 3개, 층은 2개로 데이터 요소가 배열되었다.
3차원 배열의 경우 컴퓨터 화면은 2차원이기 때문이 각 층을 차례로 보여주는 방식으로 배열의 요소를 출력한다. 따라서 각 층의 데이터는 2차원의 행렬의 형태로 출력된다. 출력된 행렬이 어떤 층의 데이터인지 보여주기 위해서 ’ , , (층 번호)’가 각 행렬의 위에 같이 출력되었다.</p>
</div>
<div id="차원-배열에서-데이터가-채워지는-순서" class="section level4 unnumbered">
<h4>3차원 배열에서 데이터가 채워지는 순서<a class="anchor" aria-label="anchor" href="#%EC%B0%A8%EC%9B%90-%EB%B0%B0%EC%97%B4%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EA%B0%80-%EC%B1%84%EC%9B%8C%EC%A7%80%EB%8A%94-%EC%88%9C%EC%84%9C"><i class="fas fa-link"></i></a>
</h4>
<p>예에서 보듯이 행렬과 마찬가지로 앞 차원의 인덱스들이 먼저 변하며 데이터가 채워진다. 1층의 데이터가 다 채워진 후 2 층의 데이터가 채워지고, 동일 층에서는 앞의 열이 먼저 채워지고 뒤의 열이 다음에 채워진다. 동일 층의 동일 열에서는 앞의 행이 먼저 채워지고 뒤의 행이 다음에 채워진다. 즉, [행, 열, 층]의 인덱스가 [1, 1, 1]에서 시작하여 [2, 1, 1]로 진행하며 1층-1열의 모든 행을 다 채우고 나서, 다시 [1, 2, 1]부터 1층-2열의 데이터를 채운다. 그리고 1층의 데이터가 모두 채워지면 다시 2층의 1열의 1행, 즉 [1, 1, 2]부터 차례대로 1층과 같은 방식으로 데이터를 채워나간다. 비유적으로 설명하자면 숫자의 자리수가 일의 자리가 채워지면 십의 자리, 그리고 그 다음 백의 자리가 채워지듯이, 첫번째 차원의 인덱스가 모두 채워지면 두번째 차원의 인덱스가 하나 증가하고, 두번째 차원의 인덱스가 모두 채워지면 세번째 차원이 인덱스가 하나 증가하며 데이터가 채워진다고 할 수 있다. 다만 십진법에서는 숫자의 자리수는 모두 10으로 크기가 같고, 0부터 시작하며, 숫자 표기상 뒷쪽 자릿수가 먼저 채워지는데, R의 배열에서는 차원의 크기가 서로 다를 수 있고, 1부터 시작하고, 앞 쪽의 차원이 먼저 채워지는 것에 차이가 있다.</p>
</div>
<div id="k차원-배열은-k개의-인덱스-벡터로-요소의-위치를-지정한다." class="section level4 unnumbered">
<h4>k차원 배열은 k개의 인덱스 벡터로 요소의 위치를 지정한다.<a class="anchor" aria-label="anchor" href="#k%EC%B0%A8%EC%9B%90-%EB%B0%B0%EC%97%B4%EC%9D%80-k%EA%B0%9C%EC%9D%98-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EB%B2%A1%ED%84%B0%EB%A1%9C-%EC%9A%94%EC%86%8C%EC%9D%98-%EC%9C%84%EC%B9%98%EB%A5%BC-%EC%A7%80%EC%A0%95%ED%95%9C%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>3차원 배열에서 요소의 위치를 지정하기 위해서는 3개의 인덱스 벡터가 필요하다. 마찬가지로 k-차원의 배열에서 요소의 위치를 지정하기 위해서는 k개의 인덱스 벡터가 필요하다.</p>
<div class="sourceCode" id="cb637"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 12</code></pre>
<div class="sourceCode" id="cb639"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 21</code></pre>
<div class="sourceCode" id="cb641"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 23 26</code></pre>
<p>행렬은 2차원 배열이므로 array() 함수를 이용해서도 행렬을 만들 수 있다.</p>
<div class="sourceCode" id="cb643"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">19</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   14   17
#&gt; [2,]   12   15   18
#&gt; [3,]   13   16   19</code></pre>
</div>
<div id="벡터를-재사용하여-배열-만들기" class="section level4 unnumbered">
<h4>벡터를 재사용하여 배열 만들기<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EB%A5%BC-%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EB%B0%B0%EC%97%B4-%EB%A7%8C%EB%93%A4%EA%B8%B0"><i class="fas fa-link"></i></a>
</h4>
<p>행렬을 만들 때와 마찬가지로 데이터로 제공된 벡터가 배열의 모든 공간을 채울 수 없으면 벡터가 재사용된다.</p>
<div class="sourceCode" id="cb645"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    1    1
#&gt; [2,]    1    1    1
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    1    1
#&gt; [2,]    1    1    1</code></pre>
<div class="sourceCode" id="cb647"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    1
#&gt; [2,]    2    5    2
#&gt; [3,]    3    6    3
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    4    1    4
#&gt; [2,]    5    2    5
#&gt; [3,]    6    3    6</code></pre>
<p>참고로 벡터를 재사용하여 배열을 채울 때, 벡터의 길이가 배열의 길이의 배수가 아니어도 경고 메시지가 나오지 않는다. 이는 행렬의 경우와 다른데 차원이 커지면 벡터의 길이와 배열의 길이를 배수로 맞추는 것이 쉽지 않기 때문에 생략한 것으로 보인다.</p>
<div class="sourceCode" id="cb649"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    2
#&gt; [2,]    2    5    3
#&gt; [3,]    3    1    4
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    5    3    1
#&gt; [2,]    1    4    2
#&gt; [3,]    2    5    3</code></pre>
<p>마찬가지로 벡터의 길이가 배열의 길이보다 길어도 아무 경고 메시지 없이 배열을 잘 생성한다.</p>
<div class="sourceCode" id="cb651"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   10   13   16
#&gt; [2,]   11   14   17
#&gt; [3,]   12   15   18</code></pre>
</div>
<div id="차원-배열-예" class="section level4 unnumbered">
<h4>4차원 배열 예<a class="anchor" aria-label="anchor" href="#%EC%B0%A8%EC%9B%90-%EB%B0%B0%EC%97%B4-%EC%98%88"><i class="fas fa-link"></i></a>
</h4>
<p>마지막으로 4차원 배열을 만들어 보자. 컴퓨터 화면은 2차원이므로 4차원 배열을 표현하기 위해, 세번째와 네번째 차원의 인덱스가 정해져 있을 때의 데이터를 2차원 행렬로 출력해 주는 것을 볼 수 있다. 3차원 배열 때와 마찬가지로 앞의 차원의 인덱스가 먼저 변하면서 데이터가 차례로 배정됨을 볼 수 있다.</p>
<div class="sourceCode" id="cb653"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">y</span></span></code></pre></div>
<pre><code>#&gt; , , 1, 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6
#&gt; 
#&gt; , , 2, 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    7    9   11
#&gt; [2,]    8   10   12
#&gt; 
#&gt; , , 1, 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   13   15   17
#&gt; [2,]   14   16   18
#&gt; 
#&gt; , , 2, 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   19   21   23
#&gt; [2,]   20   22   24</code></pre>
</div>
</div>
<div id="배열도-결국-벡터" class="section level3" number="4.6.2">
<h3>
<span class="header-section-number">4.6.2</span> 배열도 결국 벡터<a class="anchor" aria-label="anchor" href="#%EB%B0%B0%EC%97%B4%EB%8F%84-%EA%B2%B0%EA%B5%AD-%EB%B2%A1%ED%84%B0"><i class="fas fa-link"></i></a>
</h3>
<div id="배열은-dim-속성을-가진-벡터이다." class="section level4 unnumbered">
<h4>배열은 dim 속성을 가진 벡터이다.<a class="anchor" aria-label="anchor" href="#%EB%B0%B0%EC%97%B4%EC%9D%80-dim-%EC%86%8D%EC%84%B1%EC%9D%84-%EA%B0%80%EC%A7%84-%EB%B2%A1%ED%84%B0%EC%9D%B4%EB%8B%A4."><i class="fas fa-link"></i></a>
</h4>
<p>행렬과 마찬가지로 배열도 사실 벡터이다. 그러므로 typeof() 함수를 이용하여 생성된 배열의 타입을 확인해 보면 숫자 벡터임을 보여준다. 그러나 class() 함수로 배열의 클래스를 확인하면 array 클래스로 처리됨을 볼 수 있다. 앞의 예에서도 벡터가 array 클래스로 처리되기 때문에 행, 열, 층 등으로 잘 구분되어 출력될 수 있었던 것이다. Array 클래스의 데이터는 본질적으로 벡터가 dim 속성을 가지고 있는 것 뿐이다. Dim 속성은 해당 배열의 각 차원의 크기를 나타내 준다. R은 dim 속성에 저장된 차원 정보를 이용하여 데이터 요소를 각 차원에 맞게 출력해 준다.</p>
<div class="sourceCode" id="cb655"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] "integer"</code></pre>
<div class="sourceCode" id="cb657"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] "array"</code></pre>
<div class="sourceCode" id="cb659"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 3 3 2</code></pre>
</div>
<div id="벡터에-dim-속성을-부여하여-배열-만들기" class="section level4 unnumbered">
<h4>벡터에 dim 속성을 부여하여 배열 만들기<a class="anchor" aria-label="anchor" href="#%EB%B2%A1%ED%84%B0%EC%97%90-dim-%EC%86%8D%EC%84%B1%EC%9D%84-%EB%B6%80%EC%97%AC%ED%95%98%EC%97%AC-%EB%B0%B0%EC%97%B4-%EB%A7%8C%EB%93%A4%EA%B8%B0"><i class="fas fa-link"></i></a>
</h4>
<p>배열은 결국 벡터가 dim 속성을 가지고 있는 것이므로 벡터에 dim 속성을 부여하여 배열을 만들 수도 있다. 다음 예에서도 보듯이 데이터는 변함이 없고 dim 속성에 따라 데이터가 보여지는 형식이 달라짐을 볼 수 있다.</p>
<div class="sourceCode" id="cb661"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; NULL</code></pre>
<div class="sourceCode" id="cb663"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
<div class="sourceCode" id="cb665"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    4    7   10
#&gt; [2,]    2    5    8   11
#&gt; [3,]    3    6    9   12</code></pre>
<div class="sourceCode" id="cb667"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    7    9   11
#&gt; [2,]    8   10   12</code></pre>
<div class="sourceCode" id="cb669"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
</div>
<div id="dimnames-속성과-dimnames-함수" class="section level4 unnumbered">
<h4>dimnames 속성과 dimnames() 함수<a class="anchor" aria-label="anchor" href="#dimnames-%EC%86%8D%EC%84%B1%EA%B3%BC-dimnames-%ED%95%A8%EC%88%98"><i class="fas fa-link"></i></a>
</h4>
<p>배열도 행렬과 마찬가지로 각 차원에 이름을 부여할 수 있다. 배열의 dimnames 속성에 차원의 이름 벡터를 리스트 객체로 만들어 부여하면 된다. (리스트 객체에 대한 설명은 <a href="ch-R-List.html#ch-R-List">5</a>장을 살펴보기 바란다.) 배열에 dimnames 속성을 부여하려면 array() 함수의 dimnames 인수를 이용하거나, 다음처럼 dimnames() 함수를 사용한다.</p>
<div class="sourceCode" id="cb671"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html">dimnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"group"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,sep<span class="op">=</span><span class="st">"-"</span><span class="op">)</span>, </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , Male
#&gt; 
#&gt;   group-1 group-2 group-3
#&gt; A       1       3       5
#&gt; B       2       4       6
#&gt; 
#&gt; , , Female
#&gt; 
#&gt;   group-1 group-2 group-3
#&gt; A       7       9      11
#&gt; B       8      10      12</code></pre>
<div class="sourceCode" id="cb673"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $dim
#&gt; [1] 2 3 2
#&gt; 
#&gt; $dimnames
#&gt; $dimnames[[1]]
#&gt; [1] "A" "B"
#&gt; 
#&gt; $dimnames[[2]]
#&gt; [1] "group-1" "group-2" "group-3"
#&gt; 
#&gt; $dimnames[[3]]
#&gt; [1] "Male"   "Female"</code></pre>
</div>
</div>
<div id="배열의-연산과-필터링" class="section level3" number="4.6.3">
<h3>
<span class="header-section-number">4.6.3</span> 배열의 연산과 필터링<a class="anchor" aria-label="anchor" href="#%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%97%B0%EC%82%B0%EA%B3%BC-%ED%95%84%ED%84%B0%EB%A7%81"><i class="fas fa-link"></i></a>
</h3>
<div id="배열의-요소-단위-연산" class="section level4 unnumbered">
<h4>배열의 요소 단위 연산<a class="anchor" aria-label="anchor" href="#%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%9A%94%EC%86%8C-%EB%8B%A8%EC%9C%84-%EC%97%B0%EC%82%B0"><i class="fas fa-link"></i></a>
</h4>
<p>배열 연산과 필터링은 행렬 연산과 필터링의 경우와 동일한 원리로 작동한다. 다른 점은 행렬보다 더 많은 차원의 데이터를 다룬다는 것이다. 행렬 연산과 마찬가지로 배열 연산도 동일한 차원 벡터를 갖는 배열들이 요소 단위로 연산이 이루어진다.</p>
<div class="sourceCode" id="cb675"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>; <span class="va">a</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    1    3
#&gt; [2,]    2    4
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    5    7
#&gt; [2,]    6    8</code></pre>
<div class="sourceCode" id="cb677"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>; <span class="va">b</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    1  100
#&gt; [2,]   10 1000
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;       [,1]  [,2]
#&gt; [1,] 1e+04 1e+06
#&gt; [2,] 1e+05 1e+07</code></pre>
<div class="sourceCode" id="cb679"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">+</span> <span class="va">b</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    2  103
#&gt; [2,]   12 1004
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;        [,1]     [,2]
#&gt; [1,]  10005  1000007
#&gt; [2,] 100006 10000008</code></pre>
<div class="sourceCode" id="cb681"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">*</span> <span class="va">b</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    1  300
#&gt; [2,]   20 4000
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;       [,1]  [,2]
#&gt; [1,] 5e+04 7e+06
#&gt; [2,] 6e+05 8e+07</code></pre>
<p>행렬 연산과 마찬가지로 차원 벡터가 다른 배열과 연산을 시도하면 오류가 발생한다.</p>
<div class="sourceCode" id="cb683"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">30</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>; <span class="va">d</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   11   13   15
#&gt; [2,]   12   14   16
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   17   19   21
#&gt; [2,]   18   20   22</code></pre>
<div class="sourceCode" id="cb685"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">+</span> <span class="va">d</span></span></code></pre></div>
<pre><code>#&gt; Error in a + d: 배열의 크기가 올바르지 않습니다</code></pre>
<p>벡터와 배열이 연산되면 벡터는 배열의 길이만큼 재사용되어 연산이 수행된다.</p>
<div class="sourceCode" id="cb687"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span> <span class="op">*</span> <span class="va">a</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    2    6
#&gt; [2,]    4    8
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]   10   14
#&gt; [2,]   12   16</code></pre>
<div class="sourceCode" id="cb689"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span> <span class="op">*</span> <span class="va">a</span></span></code></pre></div>
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    1    3
#&gt; [2,]    4    8
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2]
#&gt; [1,]    5    7
#&gt; [2,]   12   16</code></pre>
</div>
<div id="차원-축소와-drop-인수" class="section level4 unnumbered">
<h4>차원 축소와 drop 인수<a class="anchor" aria-label="anchor" href="#%EC%B0%A8%EC%9B%90-%EC%B6%95%EC%86%8C%EC%99%80-drop-%EC%9D%B8%EC%88%98"><i class="fas fa-link"></i></a>
</h4>
<p>배열도 행렬과 마찬가지로 차원의 수만큼의 자연수, 음의 정수, 논리, 이름 인덱스 벡터로 필터링을 수행할 수 있다. 필터링의 결과로 어떤 차원의 크기가 1로 줄어들게 되면, 더 낮은 차원의 데이터 구조로 차원이 축소된다. 예를 들어 3차원 배열을 필터링한 결과가 1차원 벡터나 2차원 행렬이 될 수 있다. 이러한 차원 축소를 원하지 않으면 drop=FALSE 인수를 사용하여 필터링을 하면 된다.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;C나 Java 등의 언어에 익숙한 독자들은 배열의 인덱스에 drop이라는 인수를 사용할 수 있다는 것이 의아할 수 있을 것이다. R은 함수적 프로그래밍 언어(functional programming language)로 배열의 필터링마저도 사실 함수의 형태로 구현된다. 필터링을 지원하는 함수는 &lt;code&gt;[&lt;/code&gt;인데 이 함수는 drop 인수를 지원한다.&lt;/p&gt;"><sup>3</sup></a></p>
<div class="sourceCode" id="cb691"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; , , Male
#&gt; 
#&gt;   group-1 group-2 group-3
#&gt; A       1       3       5
#&gt; B       2       4       6
#&gt; 
#&gt; , , Female
#&gt; 
#&gt;   group-1 group-2 group-3
#&gt; A       7       9      11
#&gt; B       8      10      12</code></pre>
<div class="sourceCode" id="cb693"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span> , , <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;   group-1 group-2 group-3
#&gt; A       7       9      11
#&gt; B       8      10      12</code></pre>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span> ,<span class="fl">2</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;  A  B 
#&gt;  9 10</code></pre>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; group-2 group-3 
#&gt;       9      11</code></pre>
<div class="sourceCode" id="cb699"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;         Male Female
#&gt; group-2    3      9
#&gt; group-3    5     11</code></pre>
<div class="sourceCode" id="cb701"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; , , Male
#&gt; 
#&gt;   group-2 group-3
#&gt; A       3       5
#&gt; 
#&gt; , , Female
#&gt; 
#&gt;   group-2 group-3
#&gt; A       9      11</code></pre>
<div class="sourceCode" id="cb703"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt;   group-1 group-3
#&gt; A       1       5
#&gt; B       2       6</code></pre>
<div class="sourceCode" id="cb705"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="st">"A"</span>, <span class="st">"group-2"</span>, <span class="st">"Female"</span><span class="op">]</span></span></code></pre></div>
<pre><code>#&gt; [1] 9</code></pre>
</div>
</div>
</div>
<div id="sec-RMatrix-operation-advanced" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> 행렬과 배열의 고급 연산 *<a class="anchor" aria-label="anchor" href="#sec-RMatrix-operation-advanced"><i class="fas fa-link"></i></a>
</h2>
<p>행렬은 배열의 매우 중요하고 특수한 경우이다. 따라서 R에서는 행렬에만 가능한 여러 연산과 기능들이 있다.</p>
<div id="행렬의-곱" class="section level3" number="4.7.1">
<h3>
<span class="header-section-number">4.7.1</span> 행렬의 곱<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EA%B3%B1"><i class="fas fa-link"></i></a>
</h3>
<p>지금까지 행렬의 연산은 요소 단위로 이루어졌다. 따라서 행렬에 곱하기 연산자 <code>*</code>를 사용하면 같은 위치의 요소끼리 곱해졌다. 그러나 수학에서 일반적으로 정의하는 행렬의 곱은 다음과 같은 형식으로 수행된다.</p>
<p><span class="math display">\[\begin{equation*}
\begin{pmatrix}
  a &amp; b \\
  c &amp; d
\end{pmatrix} \times
\begin{pmatrix}
  e &amp; f \\
  g &amp; h
\end{pmatrix}
=
\begin{pmatrix}b\,g+a\,e &amp; b\,h+a\,f \\
  d\,g+c\,e &amp; d\,h+c\,f
\end{pmatrix}
\end{equation*}\]</span></p>
<p>연산자 <code>%*%</code>는 행렬의 곱 연산을 수행한다. 다음의 예는 요소별로 곱이 이루어지는 <code>*</code> 연산자와 행렬의 곱 연산자 <code>%*%</code>이 어떻게 다른지 보여준다. 결과에서 알 수 있듯이 행렬 곱은 교환법칙이 성립하지 않는다. 반면 요소 단위의 곱은 교환법칙이 성립한다.</p>
<div class="sourceCode" id="cb707"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>; <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    3
#&gt; [2,]    2    4</code></pre>
<div class="sourceCode" id="cb709"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>; <span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1  100
#&gt; [2,]   10 1000</code></pre>
<div class="sourceCode" id="cb711"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">*</span> <span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1  300
#&gt; [2,]   20 4000</code></pre>
<div class="sourceCode" id="cb713"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">*</span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1  300
#&gt; [2,]   20 4000</code></pre>
<div class="sourceCode" id="cb715"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">B</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]   31 3100
#&gt; [2,]   42 4200</code></pre>
<div class="sourceCode" id="cb717"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]  201  403
#&gt; [2,] 2010 4030</code></pre>
<p>벡터가 행렬의 곱 수식에 나타나면 자동적으로 열 벡터나 행 벡터로 변환이 이루어진다. 그리고 행렬의 곱의 결과과 행이나 열 벡터로 표현되더라도 차원 축소는 일어나지 않는다.</p>
<div class="sourceCode" id="cb719"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    3    7</code></pre>
<div class="sourceCode" id="cb721"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1]
#&gt; [1,]    4
#&gt; [2,]    6</code></pre>
<div class="sourceCode" id="cb723"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1]
#&gt; [1,]   10</code></pre>
</div>
<div id="행렬의-주대각선-요소와-대각행렬" class="section level3" number="4.7.2">
<h3>
<span class="header-section-number">4.7.2</span> 행렬의 주대각선 요소와 대각행렬<a class="anchor" aria-label="anchor" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%A3%BC%EB%8C%80%EA%B0%81%EC%84%A0-%EC%9A%94%EC%86%8C%EC%99%80-%EB%8C%80%EA%B0%81%ED%96%89%EB%A0%AC"><i class="fas fa-link"></i></a>
</h3>
<p>행렬을 이용한 수학적 연산에서 행렬의 주대각선 요소나 대각행렬은 매우 중요한 역할을 수행한다. R은 diag() 함수를 이용하여 행렬에서 주대각선 요소를 추출하거나, 대각행렬을 만든다. diag() 함수는 첫번째 인수 x에 어떤 형식의 데이타가 오는지에 따라 다른 연산을 수행한다.</p>
<ul>
<li>인수 x가 행렬이면, 그 행렬의 주대각선 요소를 벡터로 반환한다.</li>
<li>인수 x가 벡터이고 벡터의 길이가 1보다 크면, 그 벡터를 주대각선 요소로 하는 대각행렬(diagonal matrix)를 반환한다. 이 경우 nrow나 ncol이 주어지면 벡터가 재사용되어 대각행렬을 만들 수 있다.</li>
<li>인수 x가 숫자 하나이고 그 값이 k이면, <span class="math inline">\(k \times k\)</span> 단위 행렬(identity matrix)을 반환한다. 만약 nrow나 ncol 등이 주어지면 k가 주대각선 요소인 대각행렬이 생성된다.</li>
</ul>
<div class="sourceCode" id="cb725"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; [1] 1 4</code></pre>
<div class="sourceCode" id="cb727"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    0    0    0
#&gt; [2,]    0    2    0    0
#&gt; [3,]    0    0    3    0
#&gt; [4,]    0    0    0    4</code></pre>
<div class="sourceCode" id="cb729"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0    1</code></pre>
<div class="sourceCode" id="cb731"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">3</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    3    0
#&gt; [2,]    0    3</code></pre>
</div>
<div id="연립-일차-방정식과-역행렬" class="section level3" number="4.7.3">
<h3>
<span class="header-section-number">4.7.3</span> 연립 일차 방정식과 역행렬<a class="anchor" aria-label="anchor" href="#%EC%97%B0%EB%A6%BD-%EC%9D%BC%EC%B0%A8-%EB%B0%A9%EC%A0%95%EC%8B%9D%EA%B3%BC-%EC%97%AD%ED%96%89%EB%A0%AC"><i class="fas fa-link"></i></a>
</h3>
<p>다음과 같은 연립 일차 방정식이 있다고 하자.</p>
<p><span class="math display">\[\begin{align*}
2 x - 3 y &amp;= 5 \\
-2 x + 4 y &amp;= -4
\end{align*}\]</span></p>
<p>위의 연립 일차 방정식은 행렬과 벡터를 이용하여 나타내면 다음처럼 표현된다.</p>
<p><span class="math display">\[\begin{equation*}
\mathbf{A} \mathbf{x} = \mathbf{b}
\end{equation*}\]</span></p>
<p>단,</p>
<p><span class="math display">\[\begin{equation*}
\mathbf{A} = \begin{pmatrix} 2 &amp; -3 \\ -2 &amp; 4 \end{pmatrix}, \,
\mathbf{x} = \begin{pmatrix} x \\ y \end{pmatrix}, \,
\mathbf{b} = \begin{pmatrix} 5 \\ -4 \end{pmatrix}.
\end{equation*}\]</span></p>
<p>위의 식의 해를 구하기 위해서는 앙변에 <span class="math inline">\(\mathbf{A}\)</span>의 역행렬 <span class="math inline">\(\mathbf{A}^{-1}\)</span>을 곱하면 된다.</p>
<p><span class="math display">\[\begin{equation*}
\mathbf{x} = \mathbf{A}^{-1} \mathbf{b}
\end{equation*}\]</span></p>
<p>R에서는 solve() 함수를 이용하여 해를 구한다. solve(a, b) 함수의 첫번째 인수 a에는 연립 일차 방정식의 좌변의 계수를 나타내는 정방행렬이, 두번째 인수 b에는 우변의 상수항을 나타내는 벡터가 제공된다.</p>
<div class="sourceCode" id="cb733"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, nrow<span class="op">=</span><span class="fl">2</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>; <span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    2   -3
#&gt; [2,]   -2    4</code></pre>
<div class="sourceCode" id="cb735"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="op">-</span><span class="fl">4</span><span class="op">)</span>; <span class="va">b</span></span></code></pre></div>
<pre><code>#&gt; [1]  5 -4</code></pre>
<div class="sourceCode" id="cb737"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">b</span><span class="op">)</span>; <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt; [1] 4 1</code></pre>
<div class="sourceCode" id="cb739"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">x</span></span></code></pre></div>
<pre><code>#&gt;      [,1]
#&gt; [1,]    5
#&gt; [2,]   -4</code></pre>
<p>위의 문제의 답은 <span class="math inline">\(x = 4\)</span>이고 <span class="math inline">\(y = 1\)</span>임을 알 수 있다. 행렬 A와 해 x를 곱하면 우변항의 b와 같아짐을 확인할 수 있다.</p>
<p>solve() 함수의 두번째 인수 b가 주어지지 않으면 b를 단위 행렬로 하여 해를 구한다. 그러면 해는 좌변 행렬의 역행렬이 된다.</p>
<p><span class="math display">\[\begin{align*}
&amp; \mathbf{A} \mathbf{x} = \mathbf{I} \\
&amp; \mathbf{x} = \mathbf{A}^{-1}
\end{align*}\]</span></p>
<p>단, <span class="math inline">\(\mathbf{I}\)</span>는 <span class="math inline">\(\mathbf{A}\)</span>와 차원이 같은 단위 행렬이다. 따라서 다음은 행렬 <span class="math inline">\(\mathbf{A}\)</span>의 역행렬 <span class="math inline">\(\mathbf{A}^{-1}\)</span>을 구해준다. 결과에서 solve()의 해를 원래의 행렬로 곱하면 단위 행렬이 됨을 확인할 수 있다.</p>
<div class="sourceCode" id="cb741"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A.inverse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>; <span class="va">A.inverse</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    2  1.5
#&gt; [2,]    1  1.0</code></pre>
<div class="sourceCode" id="cb743"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">A.inverse</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    1    0
#&gt; [2,]    0    1</code></pre>
<p><span class="math inline">\(\mathbf{A}^{-1}\)</span>을 구하였으므로 <span class="math inline">\(\mathbf{x} = \mathbf{A}^{-1} \mathbf{b}\)</span> 관계를 이용하여 앞의 방정식의 해를 구할 수도 있다.</p>
<div class="sourceCode" id="cb745"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A.inverse</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">b</span></span></code></pre></div>
<pre><code>#&gt;      [,1]
#&gt; [1,]    4
#&gt; [2,]    1</code></pre>
<p>하지만 이러한 방법은 수치 계산적인 측면에서 비효율적이고 불안정한 결과를 만들 수 있다. 따라서 <span class="math inline">\(\mathbf{A}\)</span>의 역행렬을 직접 구하기보다는 solve(A, b)를 이용하여 해를 구하는 것이 좋다. <span class="math inline">\(\mathbf{x}^{t} \mathbf{A}^{-1} \mathbf{x}\)</span> 처럼 이차형식(quadratic form)을 구할 때도 역행렬을 직접 구하기보다는 <code>x %*% solve(A, x)</code>로 계산하는 것이 더 좋다.</p>
</div>
<div id="고유치eigenvalues와-고유벡터eigenvectors" class="section level3" number="4.7.4">
<h3>
<span class="header-section-number">4.7.4</span> 고유치(eigenvalues)와 고유벡터(eigenvectors)<a class="anchor" aria-label="anchor" href="#%EA%B3%A0%EC%9C%A0%EC%B9%98eigenvalues%EC%99%80-%EA%B3%A0%EC%9C%A0%EB%B2%A1%ED%84%B0eigenvectors"><i class="fas fa-link"></i></a>
</h3>
<p>행렬의 고유치와 고유벡터를 구하기 위해서는 eigen() 함수를 이용한다. eigen() 함수의 결과는 values와 vectors라는 이름을 가진 두 요소를 가지는 리스트이다. (리스트에 대해서는 <a href="ch-R-List.html#ch-R-List">5</a> 장을 참조하라.) 고유치 또는 고유벡터를 확인하려면 values 또는 vectors로 리스트 요소를 지정하면 된다.</p>
<div class="sourceCode" id="cb747"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span></span></code></pre></div>
<pre><code>#&gt;      [,1] [,2]
#&gt; [1,]    2   -3
#&gt; [2,]   -2    4</code></pre>
<div class="sourceCode" id="cb749"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/eigen.html">eigen</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span>
<span><span class="va">ev</span><span class="op">$</span><span class="va">values</span></span></code></pre></div>
<pre><code>#&gt; [1] 5.6457513 0.3542487</code></pre>
<div class="sourceCode" id="cb751"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev</span><span class="op">$</span><span class="va">vectors</span></span></code></pre></div>
<pre><code>#&gt;            [,1]       [,2]
#&gt; [1,]  0.6354064 -0.8767397
#&gt; [2,] -0.7721779 -0.4809652</code></pre>
<p>매우 큰 행렬의 경우 고유벡터가 필요하지 않다면 계산하지 않는 것이 효율적이다. eigen() 함수의 only.values 옵션을 TRUE로 설정하면 고유벡터는 계산하지 않고 고유치만 계산한다.</p>
<div class="sourceCode" id="cb753"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/eigen.html">eigen</a></span><span class="op">(</span><span class="va">A</span>, only.values <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code>#&gt; $values
#&gt; [1] 5.6457513 0.3542487
#&gt; 
#&gt; $vectors
#&gt; NULL</code></pre>

</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="ch-R-Vectors.html"><span class="header-section-number">3</span> R 벡터</a></div>
<div class="next"><a href="ch-R-List.html"><span class="header-section-number">5</span> R 리스트</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#ch-R-Matrix"><span class="header-section-number">4</span> R 행렬</a></li>
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="header-section-number">4.1</span> 행렬 만들기</a></li>
<li><a class="nav-link" href="#%EB%B2%A1%ED%84%B0%EB%A5%BC-%EA%B2%B0%ED%95%A9%ED%95%98%EC%97%AC-%ED%96%89%EB%A0%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="header-section-number">4.2</span> 벡터를 결합하여 행렬 만들기</a></li>
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%ED%95%84%ED%84%B0%EB%A7%81"><span class="header-section-number">4.3</span> 행렬의 필터링</a></li>
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%97%B0%EC%82%B0"><span class="header-section-number">4.4</span> 행렬의 연산</a></li>
<li>
<a class="nav-link" href="#%ED%96%89%EB%A0%AC%EA%B3%BC-%ED%95%A8%EC%88%98"><span class="header-section-number">4.5</span> 행렬과 함수</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%84-%EC%9D%B8%EC%88%98%EB%A1%9C-%ED%95%98%EB%8A%94-%ED%95%A8%EC%88%98%EB%93%A4"><span class="header-section-number">4.5.1</span> 행렬을 인수로 하는 함수들</a></li>
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%ED%96%89%EB%B3%84-%EB%98%90%EB%8A%94-%EC%97%B4%EB%B3%84%EB%A1%9C-%ED%95%A8%EC%88%98%EB%A5%BC-%EC%A0%81%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95"><span class="header-section-number">4.5.2</span> 행렬의 행별 또는 열별로 함수를 적용하는 방법</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#sec-RMatrix-array"><span class="header-section-number">4.6</span> 배열 *</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%83%9D%EC%84%B1"><span class="header-section-number">4.6.1</span> 배열의 생성</a></li>
<li><a class="nav-link" href="#%EB%B0%B0%EC%97%B4%EB%8F%84-%EA%B2%B0%EA%B5%AD-%EB%B2%A1%ED%84%B0"><span class="header-section-number">4.6.2</span> 배열도 결국 벡터</a></li>
<li><a class="nav-link" href="#%EB%B0%B0%EC%97%B4%EC%9D%98-%EC%97%B0%EC%82%B0%EA%B3%BC-%ED%95%84%ED%84%B0%EB%A7%81"><span class="header-section-number">4.6.3</span> 배열의 연산과 필터링</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#sec-RMatrix-operation-advanced"><span class="header-section-number">4.7</span> 행렬과 배열의 고급 연산 *</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EA%B3%B1"><span class="header-section-number">4.7.1</span> 행렬의 곱</a></li>
<li><a class="nav-link" href="#%ED%96%89%EB%A0%AC%EC%9D%98-%EC%A3%BC%EB%8C%80%EA%B0%81%EC%84%A0-%EC%9A%94%EC%86%8C%EC%99%80-%EB%8C%80%EA%B0%81%ED%96%89%EB%A0%AC"><span class="header-section-number">4.7.2</span> 행렬의 주대각선 요소와 대각행렬</a></li>
<li><a class="nav-link" href="#%EC%97%B0%EB%A6%BD-%EC%9D%BC%EC%B0%A8-%EB%B0%A9%EC%A0%95%EC%8B%9D%EA%B3%BC-%EC%97%AD%ED%96%89%EB%A0%AC"><span class="header-section-number">4.7.3</span> 연립 일차 방정식과 역행렬</a></li>
<li><a class="nav-link" href="#%EA%B3%A0%EC%9C%A0%EC%B9%98eigenvalues%EC%99%80-%EA%B3%A0%EC%9C%A0%EB%B2%A1%ED%84%B0eigenvectors"><span class="header-section-number">4.7.4</span> 고유치(eigenvalues)와 고유벡터(eigenvectors)</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R 프로그래밍 (개정판)</strong>" was written by Kilhwan Kim. It was last built on 2023-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
